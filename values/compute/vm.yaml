vm:
  enable: true

  vms:

    - name: 1 
      running: true

      nodeSelector:
        enable: true
        key: node-role.kubernetes.io/worker-realtime
        value: ""

      template:
        metadata:
          annotations:
            enable: true
            annotations:
            - key: cpu-load-balancing.crio.io
              value: disable
            - key: cpu-quota.crio.io
              value: disable
            - key: irq-load-balancing.crio.io
              value: disable
        spec:
          tolerations:
            enable: true
            tolerations:
            - key: node-role.kubernetes.io/worker-realtime
              operator: Exists

      networks:
        - name: default 
          type: pod

      volumes:
        - name: containerdisk
          type: containerDisk
          image: registry.redhat.io/rhel8/rhel-guest-image:latest
        - name: root-disk
          type: dataVolume
          dataVolume:
            name: rt-dv-dv
        - name: cloudinitdisk
          type: cloudInitNoCloud
          cloudInitNoCloud:
            enable: true

            userData:
              enable: true
              user: u
              password: p

            networkData:
              enable: false
              version: 2

              ethernet:
                enable: true
                ethernets:
                - name: eth0
                  address:
                    enable: true
                    addresses:
                    - fd10:0:2::2/120
                  dhcp4:
                    enable: true
                    value: true
                  gateway6:
                    enable: true
                    value: fd10:0:2::1
                - name: eth1
                  address:
                    enable: true
                    addresses:
                    - 10.200.0.2/24
                  dhcp4:
                    enable: false
                    value: true
                  gateway6:
                    enable: false
                    value: true

      domain:
        resources:
          requests:
            memory: 1Gi
        memory:
          enable: true
          guest: 4Gi
          hugepages:
            enable: true
            pageSize: 1Gi
        ioThreadsPolicy:
          value: auto
        terminationGracePeriodSeconds:
          value: 0
        cpu:
          enable: true
          cores:
            enable: true
            value: 2
          sockets:
            enable: true
            value: 2
          threads:
            enable: true
            value: 2
          dedicatedCpuPlacement:
            enable: true
            value: true
          isolateEmulatorThread:
            enable: true
            value: true
          model:
            enable: true
            value: passthrough
          numa:
            enable: true
            key: guestMappingPassthrough
          realtime:
            enable: true

        devices:
          disks:
          - name: containerdisk
            bus: virtio
          - name: cloudinitdisk
            bus: virtio
          networkInterfaceMultiqueue:
            value: true

          interfaces:
          - name: default
            type: masquerade

          autoattachGraphicsDevice:
            value: false
          
          autoattachMemBalloon:
            value: false

          autoattachSerialConsole:
            value: true